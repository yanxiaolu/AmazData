@model AmazData.Module.Mqtt.Models.MqttBrokerButtonsViewModel

@{
    if (Model.ContentItem == null)
    {
        return;
    }

    var buttonText = Model.IsConnected ? "断开" : "连接";
    var buttonClass = Model.IsConnected ? "btn-danger" : "btn-success";
    var actionName = Model.IsConnected ? "DisconnectBroker" : "ConnectBroker";
}

<a asp-area="AmazData.Module.Mqtt" 
   asp-controller="MqttBroker" 
   asp-action="@actionName"
   asp-route-brokerId="@Model.ContentItem.ContentItemId" 
   class="btn btn-sm @buttonClass">@buttonText</a>