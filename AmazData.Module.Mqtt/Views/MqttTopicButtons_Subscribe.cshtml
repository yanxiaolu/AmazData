@model AmazData.Module.Mqtt.Models.MqttTopicButtonsViewModel

@{
    if (!Model.IsConfigured)
    {
        <span class="text-muted small">未配置</span>
        return;
    }

    var buttonText = Model.IsSubscribed ? "取消订阅" : "订阅";
    var buttonClass = Model.IsSubscribed ? "btn-warning" : "btn-success";
    var actionName = Model.IsSubscribed ? "Unsubscribe" : "Subscribe";
}

<a asp-area="AmazData.Module.Mqtt"
   asp-controller="MqttTopic"
   asp-action="@actionName"
   asp-route-topicId="@Model.TopicId"
   class="btn btn-sm @buttonClass">@buttonText</a>